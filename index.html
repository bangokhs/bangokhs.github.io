<script>
    // JavaScript: ìŠ¬ë¡¯ë¨¸ì‹  ë¡œì§ (localStorage ì ìš©)
    
    // --- 1. ì„¤ì • ë° ë³€ìˆ˜ ---
    
    // ì‹¬ë³¼ê³¼ í™•ë¥  (ì´ í™•ë¥  í•©ê³„ëŠ” 100%ê°€ ë˜ë„ë¡ ì¡°ì •)
    const probabilities = [
        { symbol: 'ğŸ’', weight: 40 }, 
        { symbol: 'ğŸ‹', weight: 30 },
        { symbol: 'ğŸ””', weight: 20 },
        { symbol: 'â­', weight: 7 }, 
        { symbol: '7ï¸âƒ£', weight: 3 }  
    ];
    
    // ì­íŒŸ ë°°ìœ¨ (ë°°íŒ… ê¸ˆì•¡ ëŒ€ë¹„)
    const payouts = {
        'ğŸ’': 10,
        'ğŸ‹': 20,
        'ğŸ””': 50,
        'â­': 100,
        '7ï¸âƒ£': 500
    };
    
    const partialMatchPayout = 3; 

    // ê²Œì„ ë³€ìˆ˜
    const INITIAL_BALANCE = 100; // ì´ˆê¸° ì”ì•¡
    let coinBalance = INITIAL_BALANCE; // ì‹œì‘ ì‹œ ì´ˆê¸° ì”ì•¡ìœ¼ë¡œ ì„¤ì •
    const betAmount = 10;
    const REEL_STOP_INTERVAL = 1000; 
    const SPIN_DURATION = 3000; 
    const STORAGE_KEY = 'slotMachineCoinBalance'; // localStorageì— ì €ì¥ë  í‚¤

    // DOM ìš”ì†Œ
    const reelElements = [
        document.getElementById('reel1'),
        document.getElementById('reel2'),
        document.getElementById('reel3')
    ];
    const spinButton = document.getElementById('spinButton');
    const resultDisplay = document.getElementById('result');
    const balanceDisplay = document.getElementById('coinBalanceDisplay');

    // --- 2. ë¡œì»¬ ì €ì¥ì†Œ ë¡œì§ (ìƒˆë¡œ ì¶”ê°€/ìˆ˜ì •) ---

    // ì”ì•¡ì„ localStorageì—ì„œ ë¶ˆëŸ¬ì˜¤ê³  ì—†ìœ¼ë©´ ì´ˆê¸°ê°’ìœ¼ë¡œ ì„¤ì •
    function loadBalance() {
        const savedBalance = localStorage.getItem(STORAGE_KEY);
        if (savedBalance !== null) {
            // ì €ì¥ëœ ê°’ì´ ìˆìœ¼ë©´ ë¶ˆëŸ¬ì™€ì„œ ìˆ«ìë¡œ ë³€í™˜
            coinBalance = parseInt(savedBalance);
        } else {
            //
